{"version":3,"file":"static/webpack/1.c912320fecc5eceacd5a.hot-update.js","sources":["webpack:///./components/World/World.js"],"sourcesContent":["import React from \"react\";\nimport Config from \"./Config\";\nimport StaticGround from \"./StaticGround\";\nimport Mountains from \"./Mountains\";\nimport Camera from \"./Camera\";\nimport Light from \"./Light\";\nimport Utils from \"./Utils\";\nimport Effects from \"./Effects\";\nimport Stars from \"./Stars\";\nimport Backgrounds from \"./Backgrounds\";\nimport Controls from \"./Controls\";\nimport DynamicGround from \"./DynamicGround\";\n\nclass World extends React.Component {\n    constructor(props) {\n        super(props);\n        this.canvas = React.createRef();\n    }\n\n    resize() {\n        this.canvas.current.width = window.innerWidth;\n        this.canvas.current.height = window.innerHeight;\n        this.engine.resize();\n    }\n\n    startEngine() {\n        this.engine = new BABYLON.Engine(this.canvas.current, true);\n        this.scene = new BABYLON.Scene(this.engine);\n        this.camera = new Camera(this.canvas.current, this.scene);\n    }\n\n    renderWorld() {\n        this.scene.clearColor = new BABYLON.Color4(0, 0, 0, 1);\n        this.light = new Light(this.scene);\n\n        if (Config.ground.type === \"static\") {\n            this.staticGround = new StaticGround(this.scene);\n        } else if (Config.ground.type === \"dynamic\") {\n            this.dynamicGround = new DynamicGround(this.scene);\n        }\n\n        if (Config.mountains.enabled) {\n            this.mountains = new Mountains(this.scene);\n        }\n\n        if (Config.stars.enabled) {\n            this.stars = new Stars(this.scene);\n        }\n\n        if (Config.effects.enabled) {\n            this.effects = new Effects(this.scene);\n        }\n    }\n\n    componentDidMount() {\n        this.startEngine();\n\n        this.renderWorld();\n\n        if (Config.debug.axis) {\n            Utils.showWorldAxis(Config.debug.axisSize, this.scene);\n        }\n\n        if (Config.controls.enabled) {\n            this.controls = new Controls(this);\n        }\n\n        this.resize();\n\n        window.addEventListener(\"resize\", () => { \n            this.resize();\n        });\n\n        this.engine.runRenderLoop(() => { \n            this.scene.render();\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <Backgrounds />\n                <canvas \n                    id=\"canvas\"\n                    style={ Config.canvas.style }\n                    ref={ this.canvas }>\n                </canvas>\n            </div>\n        );\n    }\n}\n\nexport default World;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA5EA;AACA;AA8EA;;;;A","sourceRoot":""}