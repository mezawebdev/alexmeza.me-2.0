{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/RescueAMeza_SD/Desktop/mezaWebLab/Personal/alexmeza.me/components/World/World.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Config from \"./Config\";\nimport StaticGround from \"./StaticGround\";\nimport Mountains from \"./Mountains\";\nimport Camera from \"./Camera\";\nimport Light from \"./Light\";\nimport Utils from \"./Utils\";\nimport Effects from \"./Effects\";\nimport Stars from \"./Stars\";\nimport Backgrounds from \"./Backgrounds\";\nimport Controls from \"./Controls\";\nimport DynamicGround from \"./DynamicGround\";\n\nvar World =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(World, _React$Component);\n\n  function World(props) {\n    var _this;\n\n    _classCallCheck(this, World);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(World).call(this, props));\n    _this.canvas = React.createRef();\n    return _this;\n  }\n\n  _createClass(World, [{\n    key: \"resize\",\n    value: function resize() {\n      this.canvas.current.width = window.innerWidth;\n      this.canvas.current.height = window.innerHeight;\n      this.engine.resize();\n    }\n  }, {\n    key: \"startEngine\",\n    value: function startEngine() {\n      this.engine = new BABYLON.Engine(this.canvas.current, true);\n      this.scene = new BABYLON.Scene(this.engine);\n      this.camera = new Camera(this.canvas.current, this.scene);\n    }\n  }, {\n    key: \"renderWorld\",\n    value: function renderWorld() {\n      this.scene.clearColor = new BABYLON.Color4(0, 0, 0, 1);\n      this.light = new Light(this.scene);\n\n      if (Config.ground.type === \"static\") {\n        this.staticGround = new StaticGround(this.scene);\n      } else if (Config.ground.type === \"dynamic\") {\n        this.dynamicGround = new DynamicGround(this.scene);\n      }\n\n      if (Config.mountains.enabled) {\n        this.mountains = new Mountains(this.scene);\n      }\n\n      if (Config.stars.enabled) {\n        this.stars = new Stars(this.scene);\n      }\n\n      if (Config.effects.enabled) {\n        this.effects = new Effects(this.scene);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.startEngine();\n      this.renderWorld();\n\n      if (Config.debug.axis) {\n        Utils.showWorldAxis(Config.debug.axisSize, this.scene);\n      }\n\n      if (Config.controls.enabled) {\n        this.controls = new Controls(this);\n      }\n\n      this.resize();\n      window.addEventListener(\"resize\", function () {\n        _this2.resize();\n      });\n      this.engine.runRenderLoop(function () {\n        _this2.scene.render();\n\n        _this2.controls.update();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, __jsx(Backgrounds, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), __jsx(\"canvas\", {\n        id: \"canvas\",\n        style: Config.canvas.style,\n        ref: this.canvas,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return World;\n}(React.Component);\n\nexport default World;","map":{"version":3,"sources":["/Users/RescueAMeza_SD/Desktop/mezaWebLab/Personal/alexmeza.me/components/World/World.js"],"names":["React","Config","StaticGround","Mountains","Camera","Light","Utils","Effects","Stars","Backgrounds","Controls","DynamicGround","World","props","canvas","createRef","current","width","window","innerWidth","height","innerHeight","engine","resize","BABYLON","Engine","scene","Scene","camera","clearColor","Color4","light","ground","type","staticGround","dynamicGround","mountains","enabled","stars","effects","startEngine","renderWorld","debug","axis","showWorldAxis","axisSize","controls","addEventListener","runRenderLoop","render","update","style","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Config from \"./Config\";\nimport StaticGround from \"./StaticGround\";\nimport Mountains from \"./Mountains\";\nimport Camera from \"./Camera\";\nimport Light from \"./Light\";\nimport Utils from \"./Utils\";\nimport Effects from \"./Effects\";\nimport Stars from \"./Stars\";\nimport Backgrounds from \"./Backgrounds\";\nimport Controls from \"./Controls\";\nimport DynamicGround from \"./DynamicGround\";\n\nclass World extends React.Component {\n    constructor(props) {\n        super(props);\n        this.canvas = React.createRef();\n    }\n\n    resize() {\n        this.canvas.current.width = window.innerWidth;\n        this.canvas.current.height = window.innerHeight;\n        this.engine.resize();\n    }\n\n    startEngine() {\n        this.engine = new BABYLON.Engine(this.canvas.current, true);\n        this.scene = new BABYLON.Scene(this.engine);\n        this.camera = new Camera(this.canvas.current, this.scene);\n    }\n\n    renderWorld() {\n        this.scene.clearColor = new BABYLON.Color4(0, 0, 0, 1);\n        this.light = new Light(this.scene);\n\n        if (Config.ground.type === \"static\") {\n            this.staticGround = new StaticGround(this.scene);\n        } else if (Config.ground.type === \"dynamic\") {\n            this.dynamicGround = new DynamicGround(this.scene);\n        }\n\n        if (Config.mountains.enabled) {\n            this.mountains = new Mountains(this.scene);\n        }\n\n        if (Config.stars.enabled) {\n            this.stars = new Stars(this.scene);\n        }\n\n        if (Config.effects.enabled) {\n            this.effects = new Effects(this.scene);\n        }\n    }\n\n    componentDidMount() {\n        this.startEngine();\n\n        this.renderWorld();\n\n        if (Config.debug.axis) {\n            Utils.showWorldAxis(Config.debug.axisSize, this.scene);\n        }\n\n        if (Config.controls.enabled) {\n            this.controls = new Controls(this);\n        }\n\n        this.resize();\n\n        window.addEventListener(\"resize\", () => { \n            this.resize();\n        });\n\n        this.engine.runRenderLoop(() => { \n            this.scene.render();\n            this.controls.update();\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <Backgrounds />\n                <canvas \n                    id=\"canvas\"\n                    style={ Config.canvas.style }\n                    ref={ this.canvas }>\n                </canvas>\n            </div>\n        );\n    }\n}\n\nexport default World;"]},"metadata":{},"sourceType":"module"}